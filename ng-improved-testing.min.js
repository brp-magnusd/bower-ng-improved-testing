/*! ng-improved-testing 11-07-2014 */
!function(){"use strict";angular.module("ngImprovedTesting",["ngModuleIntrospector"])}(),function(){"use strict";function a(){function a(a){if(!angular.isObject(a))return!1;for(var b in a)if(a.hasOwnProperty(b)&&angular.isFunction(a[b]))return!0;return!1}function b(a){if(!c(a)&&!c(a.prototype,"constructor"))return jasmine.createSpy();var b=jasmine.createSpy();return e(a,b),b.prototype=Object.create(a.prototype),e(a.prototype,b.prototype,"constructor"),b.prototype.constructor=a.prototype.constructor,b}function c(a,b){for(var c in a)if(a.hasOwnProperty(c)&&(!b||-1===b.indexOf(c)))return!0;return!1}function d(a){var b={};return e(a,b),b}function e(a,b,c){c=Array.prototype.slice.call(arguments,2);for(var d in a)if(a.hasOwnProperty(d)&&(!c||-1===c.indexOf(d))){var e=a[d];b[d]=angular.isFunction(e)?jasmine.createSpy():e}}this.canBeMocked=function(b){return angular.isFunction(b)||a(b)},this.createMock=function(c){if(angular.isFunction(c))return b(c);if(a(c))return d(c);throw"Could not mock provided value: "+c}}angular.module("ngImprovedTesting").service("mockCreator",a)}(),function(){"use strict";function a(a,b){function c(c){function e(a,b,c,d,e){var f={type:a,componentName:b,componentKind:c};d&&(f.dependenciesUsage=d,f.dependencies=e),j.push(f)}function f(a){var b=i.getServiceDeclaration(a).providerMethod;if("constant"===b||"value"===b)throw'Services declared with "contact" or "value" are not supported'}var g=angular.module(c),h=angular.injector(["ng",c]),i=a(c),j=[];this.serviceWithMocks=function(a){return f(a),e("service",a,"withMocks"),this},this.serviceWithMocksFor=function(a,b){return f(a),b=Array.prototype.slice.call(arguments,1),e("service",a,"withMocks","for",b),this},this.serviceWithMocksExcept=function(a,b){return f(a),b=Array.prototype.slice.call(arguments,1),e("service",a,"withMocks","except",b),this},this.filterWithMocks=function(a){return e("filter",a,"withMocks"),this},this.filterWithMocksFor=function(a,b){return e("filter",a,"withMocks","for",b),this},this.filterWithMocksExcept=function(a,b){return e("filter",a,"withMocks","except",b),this},this.filterAsIs=function(a){return e("filter",a,"asIs"),this},this.controllerWithMocks=function(a){return e("controller",a,"withMocks"),this},this.controllerWithMocksFor=function(a,b){return b=Array.prototype.slice.call(arguments,1),e("controller",a,"withMocks","for",b),this},this.controllerWithMocksExcept=function(a,b){return e("controller",a,"withMocks","except",b),this},this.controllerAsIs=function(a){return e("controller",a,"asIs"),this},this.build=function(){function a(a,b){var c;if("service"===a)c=i.getServiceDependencies(h,b);else if("controller"===a)c=i.getControllerDependencies(h,b);else{if("filter"!==a)throw"Unsupported module component type: "+a;c=i.getFilterDependencies(h,b)}return c}function c(a,b){var c;if("service"===a)c=i.getServiceDeclaration(b);else if("controller"===a)c=i.getControllerDeclaration(b);else{if("filter"!==a)throw"Unsupported module component type: "+a;c=i.getFilterDeclaration(b)}return c}function e(b){var d=b.type,e=b.componentName;if("controller"===d||"filter"===d){var f=a(d,e);angular.forEach(f,function(a,b){n[b]=a.instance});var g=c(d,e);o[e]={providerName:g.providerName,providerMethod:g.providerMethod,declaration:g.declaration}}else{if("service"!==d)throw"Unsupported module component type: "+d;n[e]=h.get(e)}}function f(d){var e=d.type,f=d.componentName,g=a(e,f),h=c(e,f),i=h.declaration,j=[];angular.forEach(g,function(a,c){var e=k(d,c),f=b.canBeMocked(a.instance);if(e&&!f&&"for"===d.dependenciesUsage)throw"Could not mock the dependency explicitly asked to mock: "+c;var g=e&&f;g?m[c]=a.instance:n[c]=a.instance,j.push(c+(g?"Mock":""))});var l;l=angular.isArray(i)?i[i.length-1]:i,j.push(l),o[f]={providerName:h.providerName,providerMethod:h.providerMethod,declaration:j}}function k(a,b){var c=a.dependenciesUsage;if("for"===c)return-1!==a.dependencies.indexOf(b);if("except"===c)return-1===a.dependencies.indexOf(b);if(c)throw"Invalid dependencies usage: "+c;return!0}d+=1;var l="generatedByNgImprovedTesting#"+d,m={},n={},o={},p=angular.module(l,g.requires);return angular.forEach(j,function(a){"asIs"===a.componentKind?e(a):"withMocks"===a.componentKind&&f(a)}),angular.mock.module(function(a,c,d){var e={$provide:a,$filterProvider:c,$controllerProvider:d};angular.forEach(m,function(c,d){var e=b.createMock(c);a.value(d+"Mock",e)}),angular.forEach(n,function(b,c){a.value(c,b)}),angular.forEach(o,function(a,b){e[a.providerName][a.providerMethod](b,a.declaration)})},p.name)}}var d=0;return{forModule:function(a){return new c(a)}}}a.$inject=["moduleIntrospector","mockCreator"],angular.module("ngImprovedTesting").factory("moduleBuilder",a)}(),function(a){"use strict";var b=angular.injector(["ng","ngImprovedTesting"]);a.ModuleBuilder=b.get("moduleBuilder")}(window);