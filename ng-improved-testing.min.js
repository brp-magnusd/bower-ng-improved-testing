/*! ng-improved-testing 11-05-2014 */
!function(a){"use strict";var b=angular.injector(["ng","ngImprovedTesting"]);a.ModuleBuilder=b.get("ModuleBuilder")}(window),function(){"use strict";function a(){function a(a){if(!angular.isObject(a))return!1;for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];if(angular.isFunction(c))return!0}return!1}function b(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];b[c]=angular.isFunction(d)?jasmine.createSpy():d}return b}this.canBeMocked=function(b){return angular.isFunction(b)||a(b)},this.createMock=function(a){if(angular.isFunction(a))return jasmine.createSpy();if(angular.isObject(a))return b(a);throw"Could not mock provided value: "+a}}angular.module("ngImprovedTesting").service("mockCreator",a)}(),function(){"use strict";angular.module("ngImprovedTesting",["ngImprovedModules"])}(),function(){"use strict";angular.module("ngImprovedTesting").factory("ModuleBuilder",["moduleIntrospector","mockCreator",function(a,b){function c(c){var e=[],f=angular.module(c);if(!f)throw"Could not find angular module: "+c;var g=angular.injector(["ng",c]),h=a(c);this.withServiceUsingMocks=function(a){var b=h.getServiceDeclaration(a);if(!b)throw"Could not find declaration of service with name: "+a;if("constant"===b.providerMethod||"value"===b.providerMethod)throw'Services declares with "contact" or "value" are not supported';return e.push(a),this},this.build=function(){d++;var a="generatedByNgImprovedTesting#"+d,c=[],i=[],j=angular.module(a,f.requires);return angular.forEach(e,function(a){var d=h.getServiceDependencies(g,a),e=[];angular.forEach(d,function(a,d){var f="ng"!==a.module.name&&b.canBeMocked(a.instance);f?c.push(d):i.push(d),e.push(d+(f?"Mock":""))});var f=h.getServiceDeclaration(a);e.push(f.declaration),j[f.providerMethod](a,e)}),angular.mock.module(function(a){angular.forEach(c,function(c){var d=g.get(c),e=b.createMock(d);a.value(c+"Mock",e)}),angular.forEach(i,function(b){a.value(b,g.get(b))})},j.name)}}var d=0;return{forModule:function(a){return new c(a)}}}])}();