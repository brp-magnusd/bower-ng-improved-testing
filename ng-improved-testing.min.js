/*! ng-improved-testing 05-08-2014 */
!function(){"use strict";angular.module("ngImprovedTesting",["ngModuleIntrospector"])}(),function(){"use strict";function a(){function a(a){if(!angular.isObject(a))return!1;for(var b in a){var c=a[b];if(angular.isFunction(c)&&"constructor"!==b&&c!==Object.prototype[b])return!0}return!1}function b(a){if(!c(a)&&!c(a.prototype,"constructor"))return jasmine.createSpy();var b=jasmine.createSpy();return e(a,b,!0),b.prototype=Object.create(a.prototype),e(a.prototype,b.prototype,!0,"constructor"),b.prototype.constructor=a.prototype.constructor,b}function c(a,b){for(var c in a)if(a.hasOwnProperty(c)&&(!b||-1===b.indexOf(c)))return!0;return!1}function d(a){var b={};return e(a,b,!1,"constructor"),b}function e(a,b,c,d){d=Array.prototype.slice.call(arguments,3);for(var e in a)if(!c||a.hasOwnProperty(e)){var f=a[e];!c&&(c||f===Object.prototype[e])||d&&-1!==d.indexOf(e)||(b[e]=angular.isFunction(f)?jasmine.createSpy(e):f)}}this.canBeMocked=function(b){return angular.isFunction(b)||a(b)},this.createMock=function(c){if(angular.isFunction(c))return b(c);if(a(c))return d(c);throw"Could not mock provided value: "+c}}angular.module("ngImprovedTesting").service("mockCreator",a)}(),function(){"use strict";function a(a,d){function e(e){function f(a,b,c,d,e){var f={type:a,componentName:b,componentKind:c};d&&(f.dependenciesUsage=d,f.dependencies=e),k.push(f)}function g(a){var b=j.getServiceDeclaration(a).providerMethod;if("constant"===b||"value"===b)throw'Services declared with "contact" or "value" are not supported'}var h=angular.module(e),i=angular.injector(["ng",e]),j=a(e),k=[];this.serviceWithMocks=function(a){return g(a),f("service",a,"withMocks"),this},this.serviceWithMocksFor=function(a,b){return g(a),b=Array.prototype.slice.call(arguments,1),f("service",a,"withMocks","for",b),this},this.serviceWithMocksExcept=function(a,b){return g(a),b=Array.prototype.slice.call(arguments,1),f("service",a,"withMocks","except",b),this},this.serviceAsIs=function(a){return f("service",a,"asIs"),this},this.filterWithMocks=function(a){return f("filter",a,"withMocks"),this},this.filterWithMocksFor=function(a,b){return f("filter",a,"withMocks","for",b),this},this.filterWithMocksExcept=function(a,b){return f("filter",a,"withMocks","except",b),this},this.filterAsIs=function(a){return f("filter",a,"asIs"),this},this.controllerWithMocks=function(a){return f("controller",a,"withMocks"),this},this.controllerWithMocksFor=function(a,b){return b=Array.prototype.slice.call(arguments,1),f("controller",a,"withMocks","for",b),this},this.controllerWithMocksExcept=function(a,b){return f("controller",a,"withMocks","except",b),this},this.controllerAsIs=function(a){return f("controller",a,"asIs"),this},this.directiveWithMocks=function(a){return f("directive",a,"withMocks"),this},this.directiveWithMocksFor=function(a,b){return b=Array.prototype.slice.call(arguments,1),f("directive",a,"withMocks","for",b),this},this.directiveWithMocksExcept=function(a,b){return f("directive",a,"withMocks","except",b),this},this.directiveAsIs=function(a){return f("directive",a,"asIs"),this},(angular.version.major>2||1===angular.version.major&&angular.version.minor>=2)&&(this.animationWithMocks=function(a){return f("animation",a,"withMocks"),this},this.animationWithMocksFor=function(a,b){return b=Array.prototype.slice.call(arguments,1),f("animation",a,"withMocks","for",b),this},this.animationWithMocksExcept=function(a,b){return f("animation",a,"withMocks","except",b),this},this.animationAsIs=function(a){return f("animation",a,"asIs"),this}),this.build=function(){function a(a,b){var c;if("service"===a)c=j.getServiceDependencies(i,b);else if("controller"===a)c=j.getControllerDependencies(i,b);else if("filter"===a)c=j.getFilterDependencies(i,b);else if("directive"===a)c=j.getDirectiveDependencies(i,b);else{if("animation"!==a)throw"Unsupported module component type: "+a;c=j.getAnimationDependencies(i,b)}return c}function e(a,b){var c;if("service"===a)c=j.getServiceDeclaration(b);else if("controller"===a)c=j.getControllerDeclaration(b);else if("filter"===a)c=j.getFilterDeclaration(b);else if("directive"===a)c=j.getDirectiveDeclaration(b);else{if("animation"!==a)throw"Unsupported module component type: "+a;c=j.getAnimationDeclaration(b)}return c}function f(b){var c=b.type,d=b.componentName;if("controller"===c||"filter"===c||"directive"===c||"animation"===c){var f=a(c,d);angular.forEach(f,function(a,b){p[b]=a.instance});var g=e(c,d);q[d]={providerName:g.providerName,providerMethod:g.providerMethod,declaration:g.declaration}}else{if("service"!==c)throw"Unsupported module component type: "+c;p[d]=i.get(d)}}function g(b){var c=b.type,f=b.componentName,g=a(c,f),h=e(c,f),j=h.declaration,k=i.annotate(j),m=[];angular.forEach(k,function(a){var c=g[a];if(c){var e=l(b,a),f=d.canBeMocked(c.instance);if(e&&!f&&"for"===b.dependenciesUsage)throw"Could not mock the dependency explicitly asked to mock: "+a;var h=e&&f;h?o[a]=c.instance:p[a]=c.instance,m.push(a+(h?"Mock":""))}else m.push(a)});var n;n=angular.isArray(j)?j[j.length-1]:j,m.push(n),"$provide"===h.providerName&&"provider"===h.providerMethod&&(m={$get:m}),q[f]={providerName:h.providerName,providerMethod:h.providerMethod,declaration:m}}function l(a,b){var c=a.dependenciesUsage;if("for"===c)return-1!==a.dependencies.indexOf(b);if("except"===c)return-1===a.dependencies.indexOf(b);if(c)throw"Invalid dependencies usage: "+c;return!0}function m(a){return b?function(b,c,d,e){var f={$provide:b,$filterProvider:c,$controllerProvider:d,$compileProvider:e};a(f)}:function(b,c,d,e,f){var g={$provide:b,$filterProvider:c,$controllerProvider:d,$compileProvider:e,$animateProvider:f};a(g)}}var n="generatedByNgImprovedTesting#"+c,o={},p={},q={},r=angular.module(n,h.requires);return angular.forEach(k,function(a){"asIs"===a.componentKind?f(a):"withMocks"===a.componentKind&&g(a)}),c+=1,angular.mock.module(m(function(a){angular.forEach(o,function(b,c){var e=d.createMock(b);a.$provide.value(c+"Mock",e)}),angular.forEach(p,function(b,c){a.$provide.value(c,b)}),angular.forEach(q,function(b,c){a[b.providerName][b.providerMethod](c,b.declaration)})}),r.name)}}return{forModule:function(a){return new e(a)}}}var b=0===angular.version.full.indexOf("1.0."),c=0;a.$inject=["moduleIntrospector","mockCreator"],angular.module("ngImprovedTesting").factory("moduleBuilder",a)}(),function(a){"use strict";var b=angular.injector(["ng","ngImprovedTesting"]);a.ModuleBuilder=b.get("moduleBuilder")}(window);